[{"content":"使用Diffsuer的原因 没钱买frp服务(指Gradio,ngrok这种可以用Python调用的) 4060 8GB容易爆显存。就我自己而言，速度不重要，显存很重要，因为显存决定了你能不能跑更大参数的模型或是更复杂的任务。（可惜硬要本地部署的话只能上台式😫，当然富哥也可以用4080 Laptop 12GB） 方便我将AI任务与笔电任务进行切割，从而省电。 在Jupyter Notebook上看到的流程十分清晰 什么是Diffsuer 🤗 Diffusers is the go-to library for state-of-the-art pretrained diffusion models for generating images, audio, and even 3D structures of molecules. Whether you’re looking for a simple inference solution or want to train your own diffusion model, 🤗 Diffusers is a modular toolbox that supports both. Our library is designed with a focus on usability over performance, simple over easy, and customizability over abstractions.\n-HuggingFace1\n进入正题 加载必要库 1 2 3 !pip install diffusers[\u0026#34;torch\u0026#34;] transformers !pip install accelerate !pip install git+https://github.com/huggingface/diffusers 加载模型与Scheduler 1 2 3 4 5 6 7 8 9 10 import torch from diffusers import StableDiffusionPipeline from diffusers import DPMSolverMultistepScheduler pipe = StableDiffusionPipeline.from_pretrained(\u0026#34;User/modelName\u0026#34;, torch_dtype=torch.float16) pipe = pipe.to(\u0026#34;cuda\u0026#34;) pipe.safety_checker = None pipe.scheduler = DPMSolverMultistepScheduler.from_config(pipe.scheduler.config) 看到这里才知道 Python 支持OOP😥 3.加载 prompt , negtive prompt 以及其他参数\n1 2 3 4 5 6 7 8 9 10 11 12 prompt = \u0026#34;1girl,school,delicated eyes\u0026#34; h=800 w=640 steps=25 guidance=7.5 lora_weight=0 num_images=3 neg = \u0026#34;unreal body,NSFW\u0026#34; images = pipe(prompt, num_images_per_prompt=num_images, cross_attention_kwargs={\u0026#34;scale\u0026#34;: lora_weight}, height=h, width=w, num_inference_steps=steps, guidance_scale=guidance, negative_prompt=neg).images for i in range(num_images): display(images[i]) 至此我们完成了初步构建，你可以访问diffsuer的文档2 为其添加更多功能\n为其添加一些功能 添加safetensors模型支持 safetensors is a safe and fast file format for storing and loading tensors. Typically, PyTorch model weights are saved or pickled into a .bin file with Python’s pickle utility. However, pickle is not secure and pickled files may contain malicious code that can be executed. safetensors is a secure alternative to pickle, making it ideal for sharing model weights.\n-HuggingFace\n在后面加上 `use_safetensors=True` 即可。 1 2 3 pipe = StableDiffusionPipeline.from_pretrained(\u0026#34;User/modelName\u0026#34;, torch_dtype=torch.float16, use_safetensors=True) 更改 Scheduler (以经典的Euler为例)\n导入 Euler 1 from diffusers import EulerDiscreteScheduler 加载 Euler 1 pipe.scheduler = EulerDiscreteScheduler.from_config(pipe.scheduler.config) ！！！注意注释掉原来的！！！\n使用 StableDiffusionXL 模型(注意别爆显存了)\n1 2 3 4 pipe = StableDiffusionXLPipeline.from_pretrained(\u0026#34;User/modelName\u0026#34;, torch_dtype=torch.float16, variant=\u0026#34;fp16\u0026#34;, use_safetensors=True) 使用单个文件\n1 2 3 4 pipe = StableDiffusionXLPipeline.from_single_file( \u0026#34;https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/blob/main/sd_xl_base_1.0.safetensors\u0026#34;, torch_dtype=torch.float16 ) diffsuer在huggingface上的解释\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nDiffsuer\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2024-09-07T00:00:00Z","image":"https://dggduu.github.io/dggduu-blogs/p/%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87-diffsuer-%E6%9D%A5%E8%BF%90%E8%A1%8C-stablediffusion/title_hu11940156321151691950.jpg","permalink":"https://dggduu.github.io/dggduu-blogs/p/%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87-diffsuer-%E6%9D%A5%E8%BF%90%E8%A1%8C-stablediffusion/","title":"如何通过 Diffsuer 来运行 StableDiffusion"},{"content":"什么是Sublime Text Sublime Text 是一款功能强大的跨平台文本编辑器，适用于代码、标记和散文。它支持多种编程语言和标记语言，用户可以使用主题进行定制，并通过插件扩展其功能。\n我自己比较习惯使用Sublime text作为我日常使用的文本编辑器,原因如下：\n跨平台：我常常在Windows与Arch两个系统中切换使用。我不怎么爱用vim,nano这些编辑器。因为我不想重装完系统后有重新配置vim，而Sublime的话可以基本开箱即用(虽说有dotfiles这种方便的东西，但我太懒了并没有想学的想法) 轻量：我就是看Electron应用不顺眼 Package Manager生态：有不错的color scheme,我挺喜欢；还有Markdown插件，让我少了个用VSC的理由（苦笑）\n\u0026hellip; 为什么要自己破解 sublime的付费版相较于免费版在功能上没有区别，就少了个会随时提醒你赞助的弹窗。听起来好像无伤大雅，但当你进入工作环境后需要疯狂按 Ctrl+S 时它真的很烦人！！！\n我曾在52上寻找过破解版，它们都些让我劝退的原因：\n无法使用Package Manager：没有Package Manager的sublime是十分难用的，不装插件它甚至不支持 UTF-8 触发防破解机制 最后被逼得穷途末路只好自己破解\n进入正题 我有两年没搞破解了，很多破解知识已经忘干净了，所以有低级错误请见谅😥\n分析 首先我们要明确我们的目的\u0026mdash;干掉这个弹窗。\n那么有这些办法可行：\n寻找判断是否为捐赠用户的jump，破解联网验证并拔除所有暗桩 寻找控制弹窗弹出的函数,使之在任何条件下都不弹出\n显然从可操作性和时间复杂性上说2方案更无脑且更简单,所以我选择2方案 前置操作 先用PEID查壳\u0026hellip;没查到。那再试试万能脱壳机\u0026hellip;也不行。 好吧，尝试自己脱壳，反正可以用ESP大法1嘛\u0026hellip;等下，我好像没破解过64位程序唉😫\n（省略查资料的事件）\n没脱壳应该没什么关系吧（不要学我）\n进入x64dbg 先 F9 进入程序主界面 搜索字符串\u0026quot;This is an unregistered copy\u0026quot;\n进入函数,我们很快就看出了弹窗函数的一部分 函数顶部有个jmp，这阻挠了我们分析这个子函数是哪个函数调用而来。我们对之、子函数顶部进行 查找引用 操作，得知就在上面标注处(下图 00007FF6AB750D81 ) 1 2 3 4 5 6 7 8 9 10 11 00007FF6AB750D5D | 84D1 | test cl,dl | 00007FF6AB750D5F | 75 0B | jne sublime_text.7FF6AB750D6C | 00007FF6AB750D61 | 83F8 09 | cmp eax,9 | 09:\u0026#39;\\t\u0026#39; 00007FF6AB750D64 | 7D 06 | jge sublime_text.7FF6AB750D6C | 00007FF6AB750D66 | 48:83C4 20 | add rsp,20 | 00007FF6AB750D6A | 5E | pop rsi | 00007FF6AB750D6B | C3 | ret | 00007FF6AB750D6C | 8325 C5836D00 00 | and dword ptr ds:[7FF6ABE29138],0 | 00007FF6AB750D73 | 48:8935 B6836D00 | mov qword ptr ds:[7FF6ABE29130],rsi | 00007FF6AB750D7A | 48:8D0D CFDD6D00 | lea rcx,qword ptr ds:[7FF6ABE2EB50] | 00007FF6AB750D81 | 48:8D15 0D000000 | lea rdx,qword ptr ds:[7FF6AB750D95] | 进入加载字符串函数 我们进行一下简单的推理：要使窗口弹出，则必须要运行到 进入加载字符串函数 这个注释处，而要到这一环节着要从上方的 jge 或是 jne 跳转过来。那么我们是不是不让这两个jump执行就可以了？只能说有可能，毕竟你不清楚在两个是在子函数内的还是外面的，会不会跳过之后触发防破解代码\u0026hellip; 我们继续向上分析，挺幸运的是我们看到了 GetTickCount 这个系统函数，我们在 MSDN 查找它的作用。 GetTickCount 函数 （sysinfoapi.h）2\n作用：检索自系统启动以来已用过的毫秒数\n返回值：自系统启动以来经过的毫秒数。\n好的，那我们基本上可以猜出这个函数了： 那么我们就有两种改法了 修改GetTickCount函数上下两个判断 更改jge,jne两个跳转 这里我选择第一种，因为第二种可能会触发一些暗桩。（具体有无我也没分析）。 这两种改法任选一个即可。 将jne改为jmp 将jl改成jmp 尾声 目前没遇到什么问题。\nESP 定律法 -CTF wiki\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nGetTickCount的解释 -MSDN\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2024-08-22T00:00:00Z","image":"https://dggduu.github.io/dggduu-blogs/p/sublime-text4%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E5%B0%8F%E8%AE%B0/title_hu11721275510000533797.jpg","permalink":"https://dggduu.github.io/dggduu-blogs/p/sublime-text4%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E5%B0%8F%E8%AE%B0/","title":"sublime text4暴力破解小记"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code A B C D E F Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies, sapien non euismod aliquam, dui ligula tincidunt odio, at accumsan nulla sapien eget ex. Proin eleifend dictum ipsum, non euismod ipsum pulvinar et. Vivamus sollicitudin, quam in pulvinar aliquam, metus elit pretium purus Proin sit amet velit nec enim imperdiet vehicula. Ut bibendum vestibulum quam, eu egestas turpis gravida nec Sed scelerisque nec turpis vel viverra. Vivamus vitae pretium sapien Code Blocks Code block with backticks 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Diff code block 1 2 3 4 5 [dependencies.bevy] git = \u0026#34;https://github.com/bevyengine/bevy\u0026#34; rev = \u0026#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13\u0026#34; - features = [\u0026#34;dynamic\u0026#34;] + features = [\u0026#34;jpeg\u0026#34;, \u0026#34;dynamic\u0026#34;] List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL + ALT + Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nHyperlinked image The above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2019-03-11T00:00:00Z","image":"https://dggduu.github.io/dggduu-blogs/p/markdown-syntax-guide/pawel-czerwinski-8uZPynIu-rQ-unsplash_hu6307248181568134095.jpg","permalink":"https://dggduu.github.io/dggduu-blogs/p/markdown-syntax-guide/","title":"Markdown Syntax Guide"}]